{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://mind-schema.org/schema/metas/bone.meta.json",
  "$comment": "MIND harmonised 2025-10 — generalised bone definition supporting region-specific enums and aliases.",
  "title": "boneMeta",
  "description": "Definition of a single bone connecting two joints within a skeleton. Supports both hand and body regions with region-dependent properties.",
  "type": "object",
  "properties": {
    "name": { "type": "string", "description": "Canonical name of the bone within its region (e.g., 'indexProximal', 'leftFemur')." },
    "region": { "$ref": "https://mind-schema.org/schema/enums/body.region.enum.json" },
    "side": { "$ref": "https://mind-schema.org/schema/enums/body.side.enum.json", "description": "Anatomical side associated with this bone: 'left', 'right', or 'centre'." },
    "fromJoint": { "$ref": "https://mind-schema.org/schema/metas/joint.meta.json", "description": "Reference to the proximal (parent) joint metadata object." },
    "toJoint": { "$ref": "https://mind-schema.org/schema/metas/joint.meta.json", "description": "Reference to the distal (child) joint metadata object." },
    "direction": { "$ref": "https://mind-schema.org/schema/primitives/vector3.json", "description": "Unit vector defining the bone’s direction in rest configuration." },
    "length": { "type": "number", "minimum": 0, "description": "Bone length in metres, measured between 'fromJoint' and 'toJoint' in rest configuration." },
    "orientation": { "$ref": "https://mind-schema.org/schema/primitives/quaternion.json", "description": "Optional rest orientation of the bone segment, as a unit quaternion." },
    "extensions": { "type": "object", "description": "Custom extension fields for future compatibility.", "additionalProperties": true }
  },
  "allOf": [
    { "if": { "properties": { "region": { "const": "hand" } } },
      "then": { "properties": { "aliases": { "$ref": "https://mind-schema.org/schema/maps/hand.mapping.json" }, "finger": { "$ref": "https://mind-schema.org/schema/enums/hand.finger.enum.json" }, "bone": { "$ref": "https://mind-schema.org/schema/enums/hand.bone.enum.json" } }, "required": ["bone"] } },
    { "if": { "properties": { "region": { "enum": ["arm", "leg", "spine", "torso", "body", "head"] } } },
      "then": { "properties": { "aliases": { "$ref": "https://mind-schema.org/schema/maps/body.mapping.json" }, "bone": { "$ref": "https://mind-schema.org/schema/enums/body.bone.enum.json" } }, "required": ["bone"] } }
  ],
  "required": ["name", "region", "fromJoint", "toJoint", "length"],
  "additionalProperties": false
}
